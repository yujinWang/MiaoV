<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 字典是一种以键-值对形式存储数据的数据结构
    // js中的Object类就是以字典的形式设计的
    // 定义一个Dictionary类，然后我们可以定义一些便利的方法，例如可以定义对整体进行操作的方法
    // 如显示字典中的所有元素，这样就不必在主程序中使用循环取遍历字典了
    // Dictionary类的基础是Array类，而不是Object类
    function Dictionary() {
      this.dataStore = new Array()
      this.add = add
      this.find = find
      this.remove = remove
      this.showAll = showAll
    }
    // add方法，接受两个参数，键和值，键是值在字典中的索引
    function add(key,value) {
      this.dataStore[key] = value
    }
    // find方法，该方法以键为参数，返回和其关联的值
    function find(key) {
      return this.dataStore[key]
    }
    // delete，从字典中删除元素需要使用js中的内置函数delete，该函数是Object类的一部分，使用对键的引用作为参数
    // 该函数同时删掉键和与其关联的值
    function remove(key) {
      delete this.dataStore[key]
    }
    // 遍历，最后我们希望可以显示字典中键-值，下面的showAll方法来完成该任务
    function showAll() {
      console.log(this.dataStore) // 打印出的结果为['aaa': 'hello']，因前面的实现就是数组，无法用访问对象属性的方式读取值
      // console.log(Object.keys(this.dataStore))
      // Object.keys(this.dataStore).forEach(function(key){
      //   console.log(key+ '--->' + this.dataStore[key])
      // })
      var dataKeys = Array.prototype.slice.call(Object.keys(this.dataStore)) // call的用法
      // console.log(dataKeys) // ["aaa", "bbb"]
      for(var key in dataKeys) {
        console.log(dataKeys[key] + '---->' +this.dataStore[dataKeys[key]])
      }
    }

    // 测试
    var test = new Dictionary()
    test.add('aaa','hello')
    test.add('bbb','world')
    test.add('ccc','xian')
    test.add('ddd','你好世界')
    test.showAll()
    test.remove('ddd')
    console.log('******************使用了remove方法删除了ddd选项*********************')
    test.showAll()
  </script>
</body>
</html>